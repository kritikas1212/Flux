{%- if cart.item_count > 0 -%}
  <div class="space-y-4 mb-6">
    {%- for item in cart.items -%}
      <div class="flex gap-4 pb-4 border-b border-border" data-cart-item="{{ item.key }}">
        
        <!-- Product Image -->
        <div class="flex-shrink-0">
          {%- if item.image -%}
            <img
              src="{{ item.image | image_url: width: 100 }}"
              alt="{{ item.image.alt | escape }}"
              width="100"
              height="100"
              loading="lazy"
              class="rounded-lg w-20 h-20 object-cover"
            >
          {%- else -%}
            {{ 'product-1' | placeholder_svg_tag: 'w-20 h-20 rounded-lg opacity-20' }}
          {%- endif -%}
        </div>

        <!-- Product Details -->
        <div class="flex-1 min-w-0">
          <h3 class="text-sm font-semibold mb-1">
            <a href="{{ item.url }}" class="hover:text-accent transition-colors duration-300">
              {{ item.product.title }}
            </a>
          </h3>

          {%- unless item.product.has_only_default_variant -%}
            <p class="text-xs text-text-secondary mb-2">
              {%- for option in item.options_with_values -%}
                {{ option.value }}
                {%- unless forloop.last -%} / {%- endunless -%}
              {%- endfor -%}
            </p>
          {%- endunless -%}

          <div class="flex items-center justify-between">
            <span class="font-bold">{{ item.final_line_price | money }}</span>
            
            <div class="flex items-center gap-2">
              <button 
                type="button" 
                class="w-6 h-6 flex items-center justify-center border border-border rounded hover:bg-bg-primary"
                data-cart-change
                data-index="{{ forloop.index }}"
                data-quantity="{{ item.quantity | minus: 1 }}"
              >
                -
              </button>
              <span class="text-sm w-6 text-center">{{ item.quantity }}</span>
              <button 
                type="button" 
                class="w-6 h-6 flex items-center justify-center border border-border rounded hover:bg-bg-primary"
                data-cart-change
                data-index="{{ forloop.index }}"
                data-quantity="{{ item.quantity | plus: 1 }}"
              >
                +
              </button>
            </div>
          </div>
        </div>
      </div>
    {%- endfor -%}
  </div>

  <!-- Cart Total -->
  <div class="border-t border-border pt-4 mb-6">
    <div class="flex justify-between text-lg font-bold mb-4">
      <span>{{ 'cart.general.subtotal' | t }}</span>
      <span>{{ cart.total_price | money }}</span>
    </div>
    
    <p class="text-xs text-text-secondary mb-4 text-center">
      {{ 'cart.general.taxes_and_shipping' | t }}
    </p>
  </div>

  <!-- Checkout Button -->
  <a href="/checkout" class="btn btn-primary w-full mb-3">
    {{ 'cart.general.checkout' | t }}
  </a>
  
  <a href="{{ routes.cart_url }}" class="btn btn-secondary w-full">
    {{ 'cart.general.view_cart' | t }}
  </a>

{%- else -%}
  <div class="text-center py-8">
    <p class="text-text-secondary mb-4">{{ 'cart.general.empty' | t }}</p>
    <button type="button" class="btn btn-primary" data-cart-close>
      {{ 'cart.general.continue_shopping' | t }}
    </button>
  </div>
{%- endif -%}

